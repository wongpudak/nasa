<?phpif (!defined('IS_IN_SCRIPT')) { die();  exit; } if (!isset($user_ID) || $user_ID == 0) { 	$refer = $_SERVER['REQUEST_URI'];	header("Location: ".wp_login_url($refer));}if (isset($_GET['page']) && $_GET['page'] == 'klien') {	$showtxt .= '<h2>Daftar Klien Anda</h2>';}if (isset($_GET['member']) && $_GET['member'] != '') {	$memberaktif[$_GET['member']] = ' selected';}$showtxt .= '<div class="menuproduk"><form action="" method="get" id="search" class="formsearchproduk"><input type="text" name="cari" placeholder="Cari klien" value="'.($_GET['cari']??='').'" class="searchproduk"/><input type="hidden" name="hal" value="klien"/><select name="member" class="searchproduk">		<option value="all"'.($memberaktif['all']??='').'>All Member</option>		<option value="free"'.($memberaktif['free']??='').'>Free Member</option>	<option value="premium"'.($memberaktif['premium']??='').'>Premium Member</option>	<option value="novalid"'.($memberaktif['novalid']??='').'>Non Valid Member</option></select><a onclick="document.getElementById(\'search\').submit();" class="submitsearch">go</a></form><div style="clear:both"></div></div>';$showtxt .='<table style="width:100%">	<thead>	<tr>		<th width="5%">No.</th>		<th width="25%">Nama / Email</th>		<th width="10%">Username</th>		<th width="35%">Alamat / Telp.</th>			<th width="15%">Status</th>	</tr>	</thead>	<tbody>';$perpage = 20;if (isset($_GET['klien']) && is_numeric($_GET['klien'])) {	$klien = ($_GET['klien']-1)*$perpage;	$page = $_GET['klien'];} else {	$klien = 0;	$page = 0;}if (isset($_GET['member'])) {		switch ($_GET['member']) {		case 'novalid':			$where = "`membership`=0";			break;		case 'free':			$where = "`membership`=1";			break;		case 'premium':			$where = "`membership`=2";			break;				default:			$where = "`membership` > 0";			break;	}} else {	$where = "`membership` > 0";}if (isset($_GET['cari']) && $_GET['cari'] != '') {	$dicari = "'%".$wpdb->_real_escape($_GET['cari'])."%'";	$where .= " AND (	`nama` LIKE  ".$dicari."	OR `username` LIKE ".$dicari." 	OR `email` LIKE ".$dicari."	OR `username` LIKE ".$dicari."	OR `alamat` LIKE ".$dicari."	OR `kota` LIKE ".$dicari."	OR `provinsi` LIKE ".$dicari." 	OR `homepage` LIKE ".$dicari.")";} if (isset($where) && $where != '') { $where = " AND ".$where; }$members = $wpdb->get_results("SELECT * FROM `wp_member` WHERE `id_referral`=".$user_ID.$where." 	ORDER BY `tgl_daftar` DESC LIMIT ".$klien.",".$perpage);$hitung = $klien;if (count($members) > 0) :foreach ($members as $member) {	$hitung++;	$lain = unserialize($member->homepage);	$wa = '';	if (isset($lain['whatsapp']) && $lain['whatsapp'] != '') {						$wa = '<br/>WA. <a href="https://wa.me/'.formatwa($lain['whatsapp']).'" target="blank">'.formatwa($lain['whatsapp']).'</a>';	}	if ($member->membership == 2) { 		$status = '<strong>PREMIUM</strong>'; 	} elseif ($member->membership == 1) { 		$status = 'Free'; 					} else { 		$status = '<span style="color:#ff0000;">Belum Validasi</span>'; 	}	$showtxt .= '	<tr>		<td>'.$hitung.'</td>		<td><b><a href="mailto:'.$member->email.'" target="_blank">'.$member->nama.'</a></b><br/>		<small>Tgl Daftar: '.$member->tgl_daftar.'</small></td>		<td>'.$member->username.'</td>		<td>'.$member->alamat.' '.$member->kota.' '.$member->kodepos.' '.$member->provinsi.'<br/> 		Telp. '.$member->telp.$wa.'</td>		<td>'.$status.'</td>	</tr>';}else :	$showtxt .= '<tr><td colspan="5"><center><b>Belum ada Member yang Bergabung</b></center></td></tr>';endif;$showtxt .= '	</tbody></table><style type="text/css">	.navi { padding:2px 4px; border:solid 1px; }</style><div style="margin-top:10px;">';$jml = $wpdb->get_var("SELECT count(*) FROM `wp_member` WHERE `id_referral`='$user_ID'"); $jmlpage = floor(($jml/$perpage)+1);if ($jmlpage > 10) {	if ($page <= 7){		for ($i=1;$i<=10;$i++) {			$showtxt .= '<a class="pronavi" href="?hal=klien&klien='.$i.'">'.$i.'</a> ';		}		$showtxt .= '... <a class="pronavi" href="?hal=klien&klien='.$jmlpage.'">'.$jmlpage.'</a> ';	} elseif ($page > 5 && $page < ($jmlpage-7)) {		$showtxt .= '<a class="pronavi" href=?hal=klien&klien=1">1</a> ... ';		for ($i=($page-5);$i<=($page+5);$i++) {			if ($i == $page) {			$showtxt .= '<a class="proaktif">'.$i.'</a> ';			} else {			$showtxt .= '<a class="pronavi" href="?hal=klien&klien='.$i.'">'.$i.'</a> ';			}		}		$showtxt .= '... <a class="pronavi" href="?hal=klien&klien='.$jmlpage.'">'.$jmlpage.'</a> ';	} else {		$showtxt .= '<a class="pronavi" href=?hal=klien&klien=1">1</a> ... ';		for ($i=($jmlpage-10);$i<=$jmlpage;$i++) {			if ($i == $page) {			$showtxt .= '<a class="proaktif">'.$i.'</a> ';			} else {			$showtxt .= '<a class="pronavi" href="?hal=klien&klien='.$i.'">'.$i.'</a> ';			}		}	}} else {	for ($i=1;$i<=$jmlpage;$i++) {		if ($i == $page) {		$showtxt .= '<a class="proaktif">'.$i.'</a> ';		} else {		$showtxt .= '<a class="pronavi" href="?hal=klien&klien='.$i.'">'.$i.'</a> ';		}	}}$showtxt .= '</div>';